# Сервис Hibot
### Описание
В этом проекте реализован веб-сервис на базе Django, который взаимодействовует с Telegram-ботом и предоставляет следующие функциональные возможности:
- http://127.0.0.1:8000/ - Просмотр истории сообщений бота на главной странице: Любой пользователь может просматривать историю сообщений, отправленных ботом. Сообщения отсортированы по дате.
- http://127.0.0.1:8000/message/<int:message_id>/edit/ - Редактирование сообщений: Изменение ответа сообщений бота через веб-сервис. Администраторы и модераторы могут менять любое поле ответа + дополнительно можно добавить картинку.
- http://127.0.0.1:8000/dashboard/ - Дашборд с информацией: На дашборде представлена информация о кол-ве пользователей, кол-ве использований бота в целом, самая популярная команда, а также статистика пользований по каждому отдельному пользователю. Доступ разрешен только Администраторам и модераторам.
- http://127.0.0.1:8000/auth/login/ - авторизация пользователей.
- http://127.0.0.1:8000/auth/signup/ - регистрация пользователей.
- http://127.0.0.1:8000/auth/password_change/ - смена пароля.
- http://127.0.0.1:8000/api/v1/filter/?username=<имяпользователя>&role=<роль> - эндпоинт который позволяет отфильтровать пользователей по нику и роли. Доступен всем.
- http://127.0.0.1:8000/swagger/ - документация по api.
- Дополнительно реализованы: кастомные шаблоны с ошибками, страничка об авторе, страничка используемых инструментов.
# ВАЖНО: ТЕЛЕГРАМ БОТ ОТВЕЧАЕТ ТОЛЬКО НА КОМАНДЫ АВТОРИЗОВАННЫХ ПОЛЬЗОВАТЕЛЕЙ. Логины пользователя на сервисе и в телеграме должны ПОЛНОСТЬЮ совпадать!!!
### Как подключить бота
- В целях сохранности секретных данных мой токен телеграм бота вам недоступен. Вам необходимо создать в общем репозиториуме папку c именем ".env" и добавить туда токен вашего телеграм бота. Пример указан в файле ".env.example"
### Технологии
Python 3.9
Django 3.2
beautifulsoup4 4.12.2
aiogram 2.25.1
### Как запустить проект:

Клонировать репозиторий и перейти в него в командной строке:

```
git clone git@github.com:OlegMusatov3000/hi_bot.git
```

```
cd hi_bot
```

Cоздать виртуальное окружение:

```
python3.9 -m venv venv
```

Активировать виртуальное окружение:

Команда для Windows:

```
source venv/Scripts/activate
```

Для Linux и macOS:

```
source venv/bin/activate
```

Установить зависимости из файла requirements.txt:

```
python3 -m pip install --upgrade pip
```

```
pip install -r requirements.txt
```

Выполнить миграции:

```
python3 manage.py migrate
```

Запустить проект:

```
python3 manage.py runserver
```

В другом окне терминала необходимо активировать бота:

```
python3 manage.py bot
```
### Автор
- Олег Мусатов
- Tg: @OlegMusatov
